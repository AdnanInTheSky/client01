---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const services = await getCollection('services', ({ data }) => data.featured);

// Hardcoded testimonials (as per your knowledge base example)
const testimonials = [
  {
    quote: "My site was live within an hour. No confusing plugins or setup like WordPress. Just fast, simple, done. ✅",
    author: "Lisa M."
  },
  {
    quote: "Way easier than hiring a developer. I just filled out a form and the site looked great instantly.",
    author: "Darren P."
  },
  {
    quote: "Quotes from freelancers were over $1,000. UrSite did it for $500 and looks better than freelanced alternatives.",
    author: "Kylie J."
  }
];
---

<Layout title="UrSite - Home">
  <section class="text-center mb-16">
    <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Simple, Fast, Affordable Websites</h1>
    <p class="text-lg text-gray-600 max-w-2xl mx-auto">
      Launch your professional website in minutes, not months. No coding required.
    </p>
  </section>

  <!-- Services -->
  <section class="mb-20">
    <h2 class="text-3xl font-bold text-center mb-12">Our Services</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      {services.map(service => (
        <div class="bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:border-blue-200 hover:shadow-lg transition" key={service.slug}>
          {service.data.icon_image && (
            <img
              src={service.data.icon_image}
              alt={service.data.title}
              class="w-16 h-16 mx-auto mb-4 object-contain"
            />
          )}
          <h3 class="text-xl font-semibold mb-2 text-center">{service.data.title}</h3>
          <p class="text-gray-600 mb-4 text-center">{service.data.description}</p>
          <p class="text-lg font-bold text-blue-600 text-center">{service.data.price}</p>
        </div>
      ))}
    </div>
  </section>

  <!-- Testimonials -->
  <section class="bg-blue-50 py-12 rounded-xl">
    <h2 class="text-3xl font-bold text-center mb-10 text-gray-800">What Our Customers Say</h2>
    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto px-4">
      {testimonials.map((t, i) => (
        <div key={i} class="bg-white p-6 rounded-lg shadow-sm">
          <p class="text-gray-700 italic mb-4">"{t.quote}"</p>
          <footer class="font-medium text-gray-900">— {t.author}</footer>
        </div>
      ))}
    </div>
  </section>
</Layout>